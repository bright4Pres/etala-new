{% extends "admin/base_site.html" %}
{% load static %}

{% block title %}Import Students from CSV{% endblock %}

{% block content %}
<div style="max-width: 700px; margin: 40px auto; padding: 30px; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border: 1px solid #e0e0e0;">
    <h1 style="margin: 0 0 25px 0; color: #495057; font-size: 28px; font-weight: 600;">Import Students from CSV</h1>

    <div style="margin-bottom: 30px;">
        <h3 style="margin: 0 0 15px 0; color: #495057; font-size: 18px; font-weight: 600;">Expected CSV Format</h3>
        <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; background: #fff; border: 1px solid #dee2e6; border-radius: 4px;">
                <thead>
                    <tr style="background: #f8f9fa;">
                        <th style="border: 1px solid #dee2e6; padding: 12px; text-align: left; font-weight: 600; color: #495057;">Column Name</th>
                        <th style="border: 1px solid #dee2e6; padding: 12px; text-align: left; font-weight: 600; color: #495057;">Example</th>
                        <th style="border: 1px solid #dee2e6; padding: 12px; text-align: left; font-weight: 600; color: #495057;">Required</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="border: 1px solid #dee2e6; padding: 12px; font-family: monospace; color: #495057;">name</td>
                        <td style="border: 1px solid #dee2e6; padding: 12px; color: #495057;">John Doe</td>
                        <td style="border: 1px solid #dee2e6; padding: 12px; color: #28a745; font-weight: 600;">✓</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="border: 1px solid #dee2e6; padding: 12px; font-family: monospace; color: #495057;">school_id</td>
                        <td style="border: 1px solid #dee2e6; padding: 12px; color: #495057;">S12345</td>
                        <td style="border: 1px solid #dee2e6; padding: 12px; color: #28a745; font-weight: 600;">✓</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #dee2e6; padding: 12px; font-family: monospace; color: #495057;">email</td>
                        <td style="border: 1px solid #dee2e6; padding: 12px; color: #495057;">john@example.com</td>
                        <td style="border: 1px solid #dee2e6; padding: 12px; color: #28a745; font-weight: 600;">✓</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="border: 1px solid #dee2e6; padding: 12px; font-family: monospace; color: #495057;">gender</td>
                        <td style="border: 1px solid #dee2e6; padding: 12px; color: #495057;">Male / Female / Other</td>
                        <td style="border: 1px solid #dee2e6; padding: 12px; color: #6c757d;">Optional</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div style="margin: 25px 0;">
            <label for="csv_file" style="display: block; margin-bottom: 8px; font-weight: 600; color: #495057; font-size: 16px;">Select CSV File:</label>
            <input type="file" id="csv_file" name="csv_file" accept=".csv" required style="width: 100%; padding: 12px; border: 1px solid #ced4da; border-radius: 4px; font-size: 16px; box-sizing: border-box;">
        </div>

        <div style="margin: 30px 0; padding-top: 20px; border-top: 1px solid #dee2e6; display: flex; gap: 12px; justify-content: center;">
            <button type="submit" style="padding: 12px 24px; background: #007bff; color: white; border: none; border-radius: 4px; font-size: 16px; font-weight: 500; cursor: pointer; transition: background-color 0.2s;">Upload CSV</button>
            <a href="{% url 'admin:lims_app_grade_seven_changelist' %}" style="padding: 12px 24px; background: #6c757d; color: white; text-decoration: none; border-radius: 4px; font-size: 16px; font-weight: 500; transition: background-color 0.2s; display: inline-block;">Cancel</a>
        </div>
    </form>

    <div style="margin-top: 25px; padding: 15px; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
        <p style="margin: 0; color: #6c757d; font-size: 14px; line-height: 1.4;">
            <strong>Note:</strong> Duplicate school_id or name values will cause an error. Please ensure all entries are unique.
        </p>
    </div>
</div>
{% endblock %}
