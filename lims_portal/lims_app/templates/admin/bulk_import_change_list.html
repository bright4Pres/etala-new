{% extends "admin/change_list.html" %}

{% block content_title %}
  <h1>{{ opts.verbose_name_plural|capfirst }} - Import CSV</h1>
{% endblock %}

{% block search %}
  {# Hide the search bar for import view #}
{% endblock %}

{% block result_list %}
  <div style="padding: 20px; background-color: #f8f9fa; border-radius: 5px; margin-bottom: 20px;">
    <h2>Bulk Import Students</h2>
    <p>Upload a CSV file to import multiple students at once.</p>
    
    {% url 'admin:lims_app_' as base_url %}{% url 'admin:index' as admin_index %}
    
    <form method="post" enctype="multipart/form-data" style="margin: 20px 0;">
      {% csrf_token %}
      <div style="margin-bottom: 15px;">
        <label for="csv_file" style="display: block; margin-bottom: 5px; font-weight: bold;">Select CSV File:</label>
        <input type="file" id="csv_file" name="csv_file" accept=".csv" required style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
      </div>
      <button type="submit" class="button" style="background-color: #417690; color: white; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer;">Upload CSV</button>
      <a href="?download-template" class="button" style="background-color: #28a745; color: white; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; text-decoration: none; display: inline-block; margin-left: 10px;">Download Template</a>
    </form>

    <div style="background-color: white; padding: 15px; border-radius: 4px; border-left: 4px solid #417690;">
      <h3 style="margin-top: 0;">CSV Format</h3>
      <p><strong>Required columns:</strong></p>
      <ul>
        <li><code>name</code> - Student's full name</li>
        <li><code>school_id</code> - Student's school ID (must be unique)</li>
        <li><code>email</code> - Student's email address</li>
        <li><code>gender</code> - Male, Female, or Other</li>
      </ul>
      <p><strong>Example:</strong></p>
      <pre>name,school_id,email,gender
John Doe,S12345,john@example.com,Male
Jane Smith,S12346,jane@example.com,Female</pre>
    </div>
  </div>

  {{ block.super }}
{% endblock %}
